<div class="w-full max-w-lg bg-white rounded-md shadow-md overflow-hidden">
  <div class="px-6 py-5 border-b border-slate-100 flex items-center justify-between bg-slate-50/30">
    <div class="flex items-center gap-3">
      <div class="w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary">
        <z-icon zType="calendar" />
      </div>
      <div>
        <h2 class="text-lg font-bold text-slate-800">Editar Agendamento</h2>
        <p class="text-xs text-slate-500">Atualize os dados da sessão</p>
      </div>
    </div>
  </div>

  <form [formGroup]="form" class="p-6 space-y-5">
    <div class="space-y-1.5">
      <label for="pacienteId" class="text-sm font-semibold text-slate-700 flex items-center gap-2">
        <z-icon zType="user" class="w-4 h-4 text-primary" />
        Paciente
      </label>
      <div class="relative">
        @if (dadosCarregados()) {
          <z-select
            formControlName="pacienteId"
            zPlaceholder="Selecione o paciente..."
            class="w-full block"
          >
            @for (paciente of pacientes(); track paciente.id) {
              <z-select-item [zValue]="paciente.id">{{ paciente.nome }}</z-select-item>
            }
          </z-select>
        } @else {
          <div
            class="animate-pulse bg-slate-100 h-10 w-full rounded-lg border border-slate-200"
          ></div>
        }
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div class="space-y-1.5">
        <label
          for="dataHoraInicio"
          class="text-sm font-semibold text-slate-700 flex items-center gap-2"
        >
          <z-icon zType="calendar" class="w-4 h-4 text-primary" />
          Início
        </label>
        <div class="relative group">
          <input
            z-input
            type="datetime-local"
            formControlName="dataHoraInicio"
            class="w-full px-3 py-2.5 rounded-lg border border-slate-200 bg-slate-50 text-slate-700 text-sm focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all placeholder:text-slate-400"
          />
        </div>
      </div>

      <div class="space-y-1.5">
        <label
          for="duracaoEmMinutos"
          class="text-sm font-semibold text-slate-700 flex items-center gap-2"
        >
          <z-icon zType="clock" class="w-4 h-4 text-primary" />
          Duração
        </label>
        <div class="relative">
          <input
            z-input
            type="number"
            formControlName="duracaoEmMinutos"
            placeholder="50"
            class="w-full px-3 py-2.5 rounded-lg border border-slate-200 bg-slate-50 text-slate-700 text-sm focus:bg-white focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"
          />
          <span
            class="absolute right-3 top-2.5 text-xs font-medium text-slate-400 pointer-events-none"
            >min</span
          >
        </div>
      </div>
    </div>

    <div class="space-y-1.5">
      <label for="pacienteId" class="text-sm font-semibold text-slate-700 flex items-center gap-2">
        <z-icon zType="user" class="w-4 h-4 text-primary" />
        Tipo de atendimento
      </label>
      <div class="relative">
        @if (dadosCarregados()) {
          <z-select
            formControlName="tipoAtendimentoId"
            zPlaceholder="Selecione o tipo de atendimento..."
            class="w-full block"
          >
            @for (tipoAtendimento of tipoAtendimentos(); track tipoAtendimento.id) {
              <z-select-item [zValue]="tipoAtendimento.id">{{
                tipoAtendimento.nome
              }}</z-select-item>
            }
          </z-select>
        } @else {
          <div
            class="animate-pulse bg-slate-100 h-10 w-full rounded-lg border border-slate-200"
          ></div>
        }
      </div>
    </div>
  </form>
</div>
